<link rel="stylesheet" href="../styles/product.css">
<main class="main">
    <!-- content -->
    <div class="main__product--info" data-idCate="<%= dataProduct.categoriesProduct %>">
        <div class="main__product--info-top">
            <div class="container__img--product">
                <div class="box__img--big">
                    <img class="img__product" src="<%= dataProduct.imageProduct %>" alt="">
                </div>
                <div class="container__img--product-small">

                    <!-- DOM SHOW -->
                    <% if(listImageSmall != null || listImageSmall != undefined) { %>
                        <% listImageSmall.images.forEach(item=> { %>
                            <div class="box__img--small">
                                <img class="img_small" src="<%=item%>" alt="">
                            </div>
                        <% }) %>
                    <% }%>
                </div>
                <ion-icon class="zoom-img" name="expand-outline"></ion-icon>
            </div>
            <div class="container__info--product">
                <span style="display: none;" class="idProduct"></span>
                <span class="main__title">ANANAS / PRODUCT</span>
                <span class="info--product---name">
                    <!-- DOM SHOW -->
                    <%= dataProduct.nameProduct %>
                </span>
                <div class="info--product---price-quantityBox">
                    <div class="price__product-box">
                        <span class="price__product-box-price">
                            <!-- DOM SHOW -->
                            <span class="vnd">
                                <%= Number(dataProduct.priceProduct).toLocaleString() %>VNĐ
                            </span>
                        </span>
                        <span class="line-height"></span>
                        <span class="quantity__product">
                            128 sản phẩm
                        </span>
                    </div>
                </div>
                <div class="box_quantity-size">
                    <div class="box_quantity-size-content">
                        <span class="box_quantity-size-title">Số lượng:</span>
                        <button class="subtraction">-</button>
                        <input class="input_quantityProduct" type="number" min="1" max="10" value="1">
                        <button class="plus">+</button>
                    </div>
                    <div class="box_quantity-size-content">
                        <span class="box_quantity-size-title">Size:</span>
                        <select name="size" id="size" class="option-sizeShoe">
                            <option value="35">35</option>
                            <option value="36">36</option>
                            <option value="36.5">36.5</option>
                            <option value="37">37</option>
                            <option value="37.5">37.5</option>
                            <option value="38">38</option>
                            <option value="38.5">38.5</option>
                            <option value="39">39</option>
                            <option value="40">40</option>
                            <option value="40.5">40.5</option>
                            <option value="41">41</option>
                            <option value="42">42</option>
                            <option value="42.5">42.5</option>
                            <option value="43">43</option>
                            <option value="44">44</option>
                            <option value="44.5">44.5</option>
                            <option value="45">45</option>
                            <option value="46">46</option>
                        </select>
                        <select name="size" id="size" class="option-sizeTee">
                            <option value="S">S</option>
                            <option value="M">M</option>
                            <option value="L">L</option>
                            <option value="XL">XL</option>
                        </select>
                    </div>
                </div>
                <div class="box__button--action">
                    <button class="button-add_toCart" data-idCate="<%= dataProduct.categoriesProduct %>", data-image="<%= dataProduct.imageProduct %>" data-price="<%= dataProduct.priceProduct %>" data-name="<%= dataProduct.nameProduct %>">
                        THÊM VÀO GIỎ HÀNG
                    </button>
                    <button class="button__buy-now">
                        <ion-icon name="arrow-forward-outline"></ion-icon>
                        MUA NGAY
                    </button>
                </div>
                <div class="box__viewers">
                    <div class="box__viewers---item">
                        <img src="https://images.pexels.com/photos/3608263/pexels-photo-3608263.jpeg?auto=compress&cs=tinysrgb&w=600"
                            alt="">
                    </div>
                    <div class="box__viewers---item">
                        <img src="https://images.pexels.com/photos/16200701/pexels-photo-16200701/free-photo-of-thien-nhien-thu-v-t-ng-i-ch-u.jpeg?auto=compress&cs=tinysrgb&w=600"
                            alt="">
                    </div>
                    <div class="box__viewers---item">
                        +500
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- list infomation product -->
    <div class="main__product--info-bottom">
        <div class="main__product--info-bottom-list">
            <ul>
                <li class="menu-content">THÔNG TIN SẢN PHẨM</li>
                <li class="menu-content">QUY ĐỊNH ĐỔI SẢN PHẨM</li>
                <li class="menu-content">BẢO HÀNH THẾ NÀO?</li>
            </ul>
        </div>
        <div class="main__product--info-bottom-showCotent">
            <div class="content content1 flex">
                <span class="descriptionProduct" style="width: 40%; margin: 0 auto;">

                    Gender: Unisex | 
                            Size run: 35 – 46 <br>
                            Upper: Canvas RAW | 
                            Outsole: Rubber
                            
                            
                            <span class="open_popupSize">Hướng dẫn chọn size</span>
                </span>
            </div>
            <div class="content content2 ">
                <span>
                    Chỉ đổi hàng 1 lần duy nhất, mong bạn cân nhắc kĩ trước khi quyết định. <br>
                    Thời hạn đổi sản phẩm khi mua trực tiếp tại cửa hàng là 07 ngày, kể từ ngày mua. Đổi sản
                    phẩm khi mua online là 14 ngày, kể từ ngày nhận hàng. <br>
                    Sản phẩm đổi phải kèm hóa đơn. Bắt buộc phải còn nguyên tem, hộp, nhãn mác. <br>
                    Sản phẩm đổi không có dấu hiệu đã qua sử dụng, không giặt tẩy, bám bẩn, biến dạng. <br>
                    Ananas chỉ ưu tiên hỗ trợ đổi size. Trong trường hợp sản phẩm hết size cần đổi, bạn có thể
                    đổi sang 01 sản phẩm khác: <br>
                    - Nếu sản phẩm muốn đổi ngang giá trị hoặc có giá trị cao hơn, bạn sẽ cần bù khoảng chênh
                    lệch tại thời điểm đổi (nếu có). <br>
                    - Nếu bạn mong muốn đổi sản phẩm có giá trị thấp hơn, chúng tôi sẽ không hoàn lại tiền. <br>
                    Trong trường hợp sản phẩm - size bạn muốn đổi không còn hàng trong hệ thống. Vui lòng chọn
                    sản phẩm khác. <br>
                    Không hoàn trả bằng tiền mặt dù bất cứ trong trường hợp nào. Mong bạn thông cảm.
                </span>
            </div>
            <div class="content content3">
                <span>
                    Mỗi đôi giày Ananas trước khi xuất xưởng đều trải qua nhiều khâu kiểm tra. Tuy vậy, trong
                    quá trình sử dụng, nếu nhận thấy các lỗi: gãy đế, hở đế, đứt chỉ may,...trong thời gian 6
                    tháng từ ngày mua hàng, mong bạn sớm gửi sản phẩm về Ananas nhằm giúp chúng tôi có cơ hội
                    phục vụ bạn tốt hơn. Vui lòng gửi sản phẩm về bất kỳ cửa hàng Ananas nào, hoặc gửi đến trung
                    tâm bảo hành Ananas ngay trong trung tâm TP.HCM trong giờ hành chính:
                    <br>
                    Địa chỉ: 5C Tân Cảng, P.25, Q.Bình Thạnh , TP. Hồ Chí Minh.
                    Hotline: 028 2211 0067
                </span>
            </div>
        </div>
        <span class="line-pointer"></span>
    </div>
    <!-- comment start -->
    <div class="comment_container pd-top80">
        <h3 class="header__comment">Người Mua Nói Gì Về Sản Phẩm?</h3>
        <div class="comment__contents">
            <div class="show__box--comment">
                <div class="box__comment">
                    <div class="comment__show">
                        <div class="comment__avatar">
                            <img src="../images/img-quote-removebg-preview.png" alt="" class="quote">
                            <div class="box_avatar--user">
                                <img src="../images/logo_admin.jpg" alt="" class="avatar"
                                    style="width: 100%; height: 100%;">
                            </div>
                        </div>
                        <div class="comment__content">
                            <h4 class="name__user">Thành Nguyễn</h4>
                            <span class="comment">Lorem ipsum dolor sit amet consectetur adipisicing elit.
                                Provident, cum? Harum eum in non dicta cum soluta voluptates autem deserunt unde
                                odit quasi, recusandae ullam ad dignissimos laboriosam doloribus eveniet?</span>
                            <div class="comment__time">
                                <span class="time">2023-10-1</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment__show">
                        <div class="comment__avatar">
                            <img src="../images/img-quote-removebg-preview.png" alt="" class="quote">
                            <div class="box_avatar--user">
                                <img src="https://images.pexels.com/photos/11909034/pexels-photo-11909034.jpeg?auto=compress&cs=tinysrgb&w=600"
                                    alt="" class="avatar" style="width: 100%; height: 100%;">
                            </div>
                        </div>
                        <div class="comment__content">
                            <h4 class="name__user">Panda Pư Chan</h4>
                            <span class="comment">Lorem ipsum dolor sit amet consectetur adipisicing elit.
                                Provident, cum? Harum eum in non dicta cum soluta voluptates autem deserunt unde
                                odit quasi, recusandae ullam ad dignissimos laboriosam doloribus eveniet?</span>
                            <div class="comment__time">
                                <span class="time">2023-10-1</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- comment end -->
    <section class="main__shop--banner2">
        <div class="shop__banner2--content">
            <div class="shop__banner2--content-left">
                <img src="../images/Logo_Ananas_Footer.svg" alt="" class="logo__banner-shop">
                <div class="shop__banner2--content-bottom">
                    <img src="../images/Logo_Ananas_Header.svg" alt="">
                    <span>/2024</span>
                </div>
            </div>
            <div class="shop__banner2--content-right">
                <span class="content__right-top">
                    GIẢM GIÁ CỰC SỐC & MIỄN PHÍ VẬN CHUYỂN
                </span>
                <span class="content__right-bottom">
                    Với hóa đơn từ 900k!
                </span>
            </div>
        </div>
    </section>
    <!-- product rel -->
    <div class="container__products pd-top80 pd-bt80">
        <div class="box__showProducts">
            <div class="box__showProducts--top">
                <span class="box__showProducts--top-name">SẢN PHẨM LIÊN QUAN</span>
                <a href="#" class="box__showProducts--top-link">
                    <ion-icon name="arrow-forward-outline"></ion-icon>
                    Xem nhiều hơn
                </a>
            </div>
            <div class="box__showProducts--items showProductsRelease">
                <!-- DOM SHOW -->
                <% dataProductRelated.forEach(item=> { %>
                    <div class="product__item">
                        <a href="/product-detail/<%=item.id%>" class="product__link">
                            <div class="container__product--item" data-id="<%=item.id%>" data-name="<%=item.nameProduct%>" data-price="<%=item.priceProduct%>" data-idCate="<%=item.categoriesProduct%>">
                                <div class="product__item--boxImg">
                                    <img loading="lazy" class="imgProduct" src="<%= item.imageProduct %>" alt="">
                                    <div class="product__item--boxAction">
                                        <ion-icon class="icon-share" name="share-social-outline"></ion-icon>
                                        <ion-icon onclick="like(this)" class="icon-heart" name="heart"></ion-icon>
                                        <ion-icon class="icon-addcart" name="bag-add-outline"></ion-icon>
                                    </div>
                                </div>
                                <div class="product__item--content">
                                    <span class="name__product">
                                        <%= item.nameProduct %>
                                    </span>
                                    <span class="price__product">
                                        <%= Number(item.priceProduct).toLocaleString('vi-VN') %>VNĐ
                                    </span>
                                    <div class="product__content--bottom">
                                        <span class="views__product">
                                            <%= item.viewsProduct %>+ views
                                        </span>
                                        <span class="evaluate">
                                            <span>
                                                <%= item.quantitySold %> đã bán
                                            </span>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                    <% })%>
            </div>
        </div>
    </div>
    <!-- popup size -->
    <div class="box_img-size">
        <ion-icon class="close" name="close-outline"></ion-icon>
        <div class="box_img">
            <img src="../images/size.jpg" alt="">
        </div>
    </div>
    <!-- popup image large -->
    <div class="popup_imgLarge">
        <ion-icon class="close-popupImgLarge" name="close-outline"></ion-icon>
        <div class="container__img--product-small container__img--product-small2" style="left: 20px;">
            <!-- dom show -->
            <% if(listImageSmall !=null || listImageSmall !=undefined) { %>
                <% listImageSmall.images.forEach(item=> { %>
                    <div class="box__img--small" style="width: 100px; height: 100px;">
                        <img class="img_small" src="<%= item %>" alt="">
                    </div>
                <% }) %>
            <% } %>
        </div>
        <div class="popup_imgLarge--show">
            <img src="<%= dataProduct.imageProduct %>" alt="produdctImg" class="img__product">
        </div>
    </div>
    <!-- popup add to cart -->
    <div class="popup__addtoCart">
        <div class="popup__addtoCart-container">

        </div>
    </div>
</main>
<script src="../js/product.js"></script>
<%
    function strToNumber(formattedString) {
    return parseFloat(formattedString.replace(/\./g, ""));
    }
    function formatMoney(numberFormat) {
    return new Intl.NumberFormat("vi-VN", {
        style: "decimal", //-> hiển thị đơn vị tiền tệ
        //   style: 'currency' // không hiển thị đơn vị tiền tệ
        //   currency: 'VND'
    }).format(numberFormat);
    }
%>